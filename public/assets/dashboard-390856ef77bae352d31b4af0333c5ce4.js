function checkTotals(){"use strict";grandTotal=$(".courses li:visible").length,usingSalsaTotal=$(".courses .using-salsa:visible").length,salsaUsagePercent=Math.floor(100*(usingSalsaTotal/grandTotal)),notUsingSalsaTotal=grandTotal-usingSalsaTotal,notUsingSalsaPercent=Math.floor(100*(notUsingSalsaTotal/grandTotal)),hasSyllabusTotal=$(".courses .fa-check-circle:visible").length,noSyllabusTotal=usingSalsaTotal-hasSyllabusTotal,noSyllabusPer=usingSalsaTotal>0?Math.floor(100*(noSyllabusTotal/usingSalsaTotal)):0,hasSyllabusPer=usingSalsaTotal>0?Math.floor(100*(hasSyllabusTotal/usingSalsaTotal)):0,usedWizardTotal=$(".courses .icon-magic:visible").length,usedWizardPer=Math.floor(100*(usedWizardTotal/notUsingSalsaTotal)),$(".grandTotal").html(grandTotal),$(".usingSalsaTotal").html(usingSalsaTotal),$(".salsaUsagePercent").html(salsaUsagePercent+"%"),$(".notUsingSalsaTotal").html(notUsingSalsaTotal),$(".notUsingSalsaPercent").html(notUsingSalsaPercent+"%"),$(".noSyllabusTotal").html(noSyllabusTotal),$(".noSyllabusPer").html(noSyllabusPer+"%"),$(".hasSyllabusTotal").html(hasSyllabusTotal),$(".hasSyllabusPer").html(hasSyllabusPer+"%"),$(".usedWizardTotal").html(usedWizardTotal),$(".usedWizardPer").html(usedWizardPer+"%"),$("#canvasUse").highcharts({chart:{type:"column"},colors:["#428bca","#999999"],title:{text:null},xAxis:{categories:["Salsa Usage"]},yAxis:{min:0,title:{text:"Course Percentage"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:"percent"}},series:[{name:"Using Salsa",data:[usingSalsaTotal]},{name:"Not Using Salsa",data:[notUsingSalsaTotal]}]}),$("#syllabusState").highcharts({chart:{type:"column"},colors:["#B94A48","#468847"],title:{text:null},xAxis:{categories:["Published Salsas"]},yAxis:{min:0,title:{text:"% Published"}},tooltip:{pointFormat:'<span style="color:{series.color}">{series.name}</span>: <b>{point.y}</b> ({point.percentage:.0f}%)<br/>',shared:!0},plotOptions:{column:{stacking:"percent"}},series:[{name:"Not Published in Canvas",data:[noSyllabusTotal]},{name:"Published in Canvas",data:[hasSyllabusTotal]}]});var a=[],s=[],l=[],t=[],e=[],n=[];$("h2:visible").each(function(){$(".topLink",this).remove(),a.push($(this).text()),s.push($(this).parents(".college-list").find("li:visible").length),l.push($(this).parents(".college-list").find(".using-salsa:visible").length),t.push($(this).parents(".college-list").find(".not-using-salsa:visible").length),e.push($(this).parents(".college-list").find(".using-salsa.has-syllabus:visible").length),n.push($(this).parents(".college-list").find(".using-salsa.no-syllabus:visible").length);var o=$(this).index();$(this).has(".topLink").length||($(this).before('<a name="'+o+'"></a>'),$(this).append('<a class="topLink" href="#top"><i class="icon-circle-arrow-up"></i></a>'))}),$("#collegeCount").highcharts({chart:{type:"bar"},colors:["#B94A48","#468847","#428bca","#999999","#000000"],title:{text:"Canvas Usage"},subtitle:{text:"By College (Based on courses with student enrollments)"},xAxis:{categories:a,title:{text:null}},yAxis:{min:0,title:{text:"Number of Courses",align:"high"},labels:{overflow:"justify"}},tooltip:{valueSuffix:" Courses"},plotOptions:{bar:{dataLabels:{enabled:!0}}},legend:{layout:"vertical",align:"right",verticalAlign:"top",x:-40,y:100,floating:!0,borderWidth:1,backgroundColor:"#FFFFFF",shadow:!0},credits:{enabled:!1},series:[{name:"Unpublished SALSAs",data:n},{name:"Published SALSAs",data:e},{name:"Using Salsa",data:l},{name:"Not Using Salsa",data:t},{name:"Total Courses",data:s}]})}var BASE_URL="";!function(a){a(function(){BASE_URL=a("body").data("base-url")})}(jQuery);var grandTotal=0,usingSalsaTotal=0,salsaUsagePercent=0,notUsingSalsaTotal=0,notUsingSalsaPercent=0,noSyllabusTotal=0,noSyllabusPer=0,hasSyllabusTotal=0,hasSyllabusPer=0,usedWizardTotal=0,usedWizardPer=0;$(function(){"use strict";$("[data-toggle=tooltip]").tooltip({html:!0}),checkTotals(),$(".expandList").click(function(a){a.preventDefault(),$(".collapseList").removeClass("active"),$(this).addClass("active"),$(".panel-collapse").each(function(){$(this).addClass("in")})}),$(".collapseList").click(function(a){a.preventDefault(),$(".expandList").removeClass("active"),$(this).addClass("active"),$(".panel-collapse").each(function(){$(this).removeClass("in")})})}),function(a){var s=a("#account_filters").on("change",function(){var s=a("#account_"+this.value);if(s.closest(".department").length){var l=s;s=l.closest(".college-list"),l.length?(a(".department",s).not(l).hide(),l.show()):a(".department",s).show()}else a(".department").show();s.length?(a(".college-list").not(s).hide(),s.show()):a(".college-list").show(),checkTotals()}),l=a("h2,h3",".college-list");l.each(function(){var l=a(this).data("account"),t="";a(this).closest(".department").length&&(t="&nbsp; &nbsp;"),s.append('<option value="'+l.id+'">'+t+l.name+"</option>")})}(jQuery);